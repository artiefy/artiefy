{
  "functions": {
    "app/api/upload": {
      "memory": 1024, // Asigna 1024 MB de memoria a la función de subida de archivos
      "maxDuration": 30 // Establece la duración máxima de la función en 30 segundos
    },
    "app/api/confirmPayment": {
      "memory": 1024, // Asigna 1024 MB de memoria a la función de confirmación de pago
      "maxDuration": 30 // Establece la duración máxima de la función en 30 segundos
    },
    "app/api/cron/check-subscriptions": {
      "memory": 1024, // Asigna 1024 MB de memoria a la función de verificación de suscripciones
      "maxDuration": 30 // Establece la duración máxima de la función en 30 segundos
    }
  },
  "framework": "nextjs", // Especifica que el framework utilizado es Next.js
  "ignoreCommand": "git diff --quiet HEAD^ HEAD ./", // Comando para ignorar cambios en el despliegue si no hay diferencias en el commit
  "installCommand": "npm install", // Comando para instalar las dependencias del proyecto
  "public": true, // Indica que el proyecto es público
  "crons": [
    {
      "path": "/api/cron/check-subscriptions", // Ruta de la función cron para verificar suscripciones
      "schedule": "0 0 * * *" // Programa la función cron para que se ejecute diariamente a medianoche
    }
  ],
  "trailingSlash": false, // Deshabilita la barra diagonal final en las rutas
  "headers": [
    {
      "source": "/api/(.*)", // Aplica los headers a todas las rutas que comienzan con /api/
      "headers": [
        {
          "key": "Cache-Control",
          "value": "no-store" // Evita que las respuestas de la API se almacenen en caché
        }
      ]
    },
    {
      "source": "/app/(.*)", // Aplica los headers a todas las rutas que comienzan con /app/
      "headers": [
        {
          "key": "Cache-Control",
          "value": "public, max-age=3600, must-revalidate" // Permite que los recursos se almacenen en caché por una hora
        }
      ]
    },
    {
      "source": "/(.*)", // Aplica los headers a todas las rutas
      "headers": [
        {
          "key": "X-Content-Type-Options",
          "value": "nosniff" // Previene que los navegadores intenten adivinar el tipo de contenido
        },
        {
          "key": "X-Frame-Options",
          "value": "DENY" // Protege contra ataques de clickjacking
        },
        {
          "key": "X-XSS-Protection",
          "value": "1; mode=block" // Habilita la protección contra ataques XSS
        }
      ]
    },
    {
      "source": "/:path*", // Aplica los headers a todas las rutas que coinciden con el patrón
      "has": [
        {
          "type": "query",
          "key": "authorized" // Verifica si la solicitud tiene el parámetro de consulta "authorized"
        }
      ],
      "headers": [
        {
          "key": "x-authorized",
          "value": "true" // Agrega el header "x-authorized: true" si la solicitud tiene el parámetro de consulta "authorized"
        }
      ]
    }
  ]
}

-------------------------------------------------------------
documentacion nodemailer